{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./log.css';import{Container,Row,Col}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=()=>{const[username,setUsername]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const[users,setUsers]=useState([]);const[lastAccountNumber,setLastAccountNumber]=useState(4711);// Assuming initial value\nconst url='https://json-storage-api.p.rapidapi.com/datalake';const headers={'Content-Type':'application/json','X-RapidAPI-Key':'66d105c179msh9c5b82c1cf62460p15aa72jsn63c558e1dc1e','X-RapidAPI-Host':'json-storage-api.p.rapidapi.com'};useEffect(()=>{loadUsers();getLastAccountNumber();},[]);const loadUsers=async()=>{try{const response=await fetch(url,{method:'POST',headers,body:JSON.stringify({'@context':['http://schema4i.org/Thing.jsonld','http://schema4i.org/Action.jsonld','http://schema4i.org/SearchAction.jsonld'],'@type':'SearchAction',Object:{'@context':['http://schema4i.org/Thing.jsonld','http://schema4i.org/Filter','http://schema4i.org/DataLakeItem','http://schema4i.org/UserAccount'],'@type':'Filter',FilterItem:{'@type':'DataLakeItem',Creator:{'@type':'UserAccount',Identifier:'USERID-4711'}}}})});const data=await response.json();setUsers(data.Result.ItemListElement.map(item=>item.Item));}catch(error){console.error('Error loading users:',error);}};const getLastAccountNumber=async()=>{try{const response=await fetch('https://your-api.com/last-account-number');const data=await response.json();setLastAccountNumber(data.lastAccountNumber);}catch(error){console.error('Error fetching last account number:',error);}};const handleSignup=async()=>{try{const newAccountNumber=lastAccountNumber+users.length+1;const response=await fetch(url,{method:'POST',headers,body:JSON.stringify({'@context':['http://schema4i.org/Thing.jsonld','http://schema4i.org/Action.jsonld','http://schema4i.org/CreateAction.jsonld'],'@type':'CreateAction',Result:{'@context':['http://schema4i.org/DataLakeItem.jsonld','http://schema4i.org/UserAccount.jsonld','http://schema4i.org/OfferForPurchase.jsonld','http://schema4i.org/Offer.jsonld','http://schema4i.org/Organization.jsonld','http://schema4i.org/PostalAddress.jsonld'],'@type':'DataLakeItem',Name:username,Creator:{'@type':'UserAccount',Identifier:'USERID-4711'},About:{'@type':'Organization',Email:email,Password:password,AccountNumber:newAccountNumber}}})});await response.text();setUsername('');setEmail('');setPassword('');setErrorMessage('');loadUsers();}catch(error){console.error('Error signing up:',error);setErrorMessage('Error signing up. Please try again.');}};return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{span:6,offset:3},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSignup,children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-image\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shadow p-3 mb-5 bg-body-tertiary rounded fromtable\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 login\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{padding:\"10px\"},children:\"Sign up\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary themebutton\",onClick:handleSignup,children:\"Signup\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errorMessage})]})})})})})})});};export default Signup;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","jsx","_jsx","jsxs","_jsxs","Signup","username","setUsername","email","setEmail","password","setPassword","errorMessage","setErrorMessage","users","setUsers","lastAccountNumber","setLastAccountNumber","url","headers","loadUsers","getLastAccountNumber","response","fetch","method","body","JSON","stringify","Object","FilterItem","Creator","Identifier","data","json","Result","ItemListElement","map","item","Item","error","console","handleSignup","newAccountNumber","length","Name","About","Email","Password","AccountNumber","text","fluid","children","md","span","offset","onSubmit","className","style","padding","type","placeholder","value","onChange","e","target","onClick","color"],"sources":["C:/Users/USER/Desktop/banking-app-hswl2/src/signup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './log.css';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst Signup = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [users, setUsers] = useState([]);\r\n    const [lastAccountNumber, setLastAccountNumber] = useState(4711); // Assuming initial value\r\n  \r\n    const url = 'https://json-storage-api.p.rapidapi.com/datalake';\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'X-RapidAPI-Key': '66d105c179msh9c5b82c1cf62460p15aa72jsn63c558e1dc1e',\r\n      'X-RapidAPI-Host': 'json-storage-api.p.rapidapi.com'\r\n    };\r\n  \r\n    useEffect(() => {\r\n      loadUsers();\r\n      getLastAccountNumber();\r\n    }, []);\r\n  \r\n    const loadUsers = async () => {\r\n      try {\r\n        const response = await fetch(url, {\r\n          method: 'POST',\r\n          headers,\r\n          body: JSON.stringify({\r\n            '@context': [\r\n              'http://schema4i.org/Thing.jsonld',\r\n              'http://schema4i.org/Action.jsonld',\r\n              'http://schema4i.org/SearchAction.jsonld'\r\n            ],\r\n            '@type': 'SearchAction',\r\n            Object: {\r\n              '@context': [\r\n                'http://schema4i.org/Thing.jsonld',\r\n                'http://schema4i.org/Filter',\r\n                'http://schema4i.org/DataLakeItem',\r\n                'http://schema4i.org/UserAccount'\r\n              ],\r\n              '@type': 'Filter',\r\n              FilterItem: {\r\n                '@type': 'DataLakeItem',\r\n                Creator: {\r\n                  '@type': 'UserAccount',\r\n                  Identifier: 'USERID-4711' \r\n                }\r\n              }\r\n            }\r\n          })\r\n        });\r\n        const data = await response.json();\r\n        setUsers(data.Result.ItemListElement.map(item => item.Item));\r\n      } catch (error) {\r\n        console.error('Error loading users:', error);\r\n      }\r\n    };\r\n  \r\n    const getLastAccountNumber = async () => {\r\n        try {\r\n          const response = await fetch('https://your-api.com/last-account-number');\r\n          const data = await response.json();\r\n          setLastAccountNumber(data.lastAccountNumber); \r\n        } catch (error) {\r\n          console.error('Error fetching last account number:', error);\r\n        }\r\n      };\r\n\r\n    const handleSignup = async () => {\r\n      try {\r\n       \r\n        const newAccountNumber = lastAccountNumber + users.length + 1;\r\n  \r\n        const response = await fetch(url, {\r\n          method: 'POST',\r\n          headers,\r\n          body: JSON.stringify({\r\n            '@context': [\r\n              'http://schema4i.org/Thing.jsonld',\r\n              'http://schema4i.org/Action.jsonld',\r\n              'http://schema4i.org/CreateAction.jsonld'\r\n            ],\r\n            '@type': 'CreateAction',\r\n            Result: {\r\n              '@context': [\r\n                'http://schema4i.org/DataLakeItem.jsonld',\r\n                'http://schema4i.org/UserAccount.jsonld',\r\n                'http://schema4i.org/OfferForPurchase.jsonld',\r\n                'http://schema4i.org/Offer.jsonld',\r\n                'http://schema4i.org/Organization.jsonld',\r\n                'http://schema4i.org/PostalAddress.jsonld'\r\n              ],\r\n              '@type': 'DataLakeItem',\r\n              Name: username,\r\n              Creator: {\r\n                '@type': 'UserAccount',\r\n                Identifier: 'USERID-4711', \r\n              },\r\n              About: {\r\n                '@type': 'Organization',\r\n                Email: email,\r\n                Password: password, \r\n                AccountNumber: newAccountNumber \r\n              }\r\n            }\r\n          })\r\n        });\r\n        await response.text();\r\n \r\n        setUsername('');\r\n        setEmail('');\r\n        setPassword('');\r\n        setErrorMessage('');\r\n \r\n        loadUsers();\r\n      } catch (error) {\r\n        console.error('Error signing up:', error);\r\n        setErrorMessage('Error signing up. Please try again.');\r\n      }\r\n    };\r\n return (\r\n  <Container fluid>\r\n    <Row>\r\n      <Col md={{ span: 6, offset: 3 }}>\r\n        <form onSubmit={handleSignup}>\r\n          <div className=\"bg-image\">\r\n            <div className=\"shadow p-3 mb-5 bg-body-tertiary rounded fromtable\">\r\n              <div className=\"mb-3 login\">\r\n                <h4 style={{ padding: \"10px\" }}>Sign up</h4>\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Username\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n                <br />\r\n                <input className=\"form-control\" type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n                <br />\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                <br />\r\n                <button className=\"btn btn-primary themebutton\" onClick={handleSignup}>Signup</button>\r\n                {errorMessage && <p style={{ color: 'red' }}>{errorMessage}</p>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </Col>\r\n    </Row>\r\n  </Container>\r\n);\r\n};\r\n\r\nexport default Signup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}