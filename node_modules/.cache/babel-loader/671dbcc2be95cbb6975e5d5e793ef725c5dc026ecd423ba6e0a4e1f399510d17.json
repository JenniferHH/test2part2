{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./log.css';import{Container,Row,Col}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const[users,setUsers]=useState([]);const url='https://json-storage-api.p.rapidapi.com/datalake';const headers={'Content-Type':'application/json','X-RapidAPI-Key':'66d105c179msh9c5b82c1cf62460p15aa72jsn63c558e1dc1e','X-RapidAPI-Host':'json-storage-api.p.rapidapi.com'};useEffect(()=>{loadUsers();},[]);const loadUsers=async()=>{try{const response=await fetch(url,{method:'POST',headers,body:JSON.stringify({'@context':['http://schema4i.org/Thing.jsonld','http://schema4i.org/Action.jsonld','http://schema4i.org/SearchAction.jsonld'],'@type':'SearchAction',Object:{'@context':['http://schema4i.org/Thing.jsonld','http://schema4i.org/Filter','http://schema4i.org/DataLakeItem','http://schema4i.org/UserAccount'],'@type':'Filter',FilterItem:{'@type':'DataLakeItem',Creator:{'@type':'UserAccount',Identifier:'USERID-4711'}}}})});const data=await response.json();setUsers(data.Result.ItemListElement.map(item=>item.Item));}catch(error){console.error('Error loading users:',error);}};const handleLogin=event=>{event.preventDefault();const user=users.find(user=>user.About.Email===email&&user.About.Password===password);if(user){localStorage.setItem('accountNumber',user.About.AccountNumber);window.location.href='/Transaction';}else{setErrorMessage('Invalid email or password');}};return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{span:6,offset:3},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleLogin,children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-image\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shadow p-3 mb-5 bg-body-tertiary rounded fromtable\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 login\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{padding:\"10px\"},children:\"Welcome\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"loginbutton btn btn-primary\",children:\"Login\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errorMessage})]})})})})})})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","errorMessage","setErrorMessage","users","setUsers","url","headers","loadUsers","response","fetch","method","body","JSON","stringify","Object","FilterItem","Creator","Identifier","data","json","Result","ItemListElement","map","item","Item","error","console","handleLogin","event","preventDefault","user","find","About","Email","Password","localStorage","setItem","AccountNumber","window","location","href","fluid","children","md","span","offset","onSubmit","className","style","padding","htmlFor","type","id","value","onChange","e","target","required","color"],"sources":["C:/Users/USER/Desktop/banking-app-hswl2/src/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './log.css';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const url = 'https://json-storage-api.p.rapidapi.com/datalake';\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    'X-RapidAPI-Key': '66d105c179msh9c5b82c1cf62460p15aa72jsn63c558e1dc1e',\r\n    'X-RapidAPI-Host': 'json-storage-api.p.rapidapi.com'\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, []);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify({\r\n          '@context': [\r\n            'http://schema4i.org/Thing.jsonld',\r\n            'http://schema4i.org/Action.jsonld',\r\n            'http://schema4i.org/SearchAction.jsonld'\r\n          ],\r\n          '@type': 'SearchAction',\r\n          Object: {\r\n            '@context': [\r\n              'http://schema4i.org/Thing.jsonld',\r\n              'http://schema4i.org/Filter',\r\n              'http://schema4i.org/DataLakeItem',\r\n              'http://schema4i.org/UserAccount'\r\n            ],\r\n            '@type': 'Filter',\r\n            FilterItem: {\r\n              '@type': 'DataLakeItem',\r\n              Creator: {\r\n                '@type': 'UserAccount',\r\n                Identifier: 'USERID-4711'\r\n              }\r\n            }\r\n          }\r\n        })\r\n      });\r\n      const data = await response.json();\r\n      setUsers(data.Result.ItemListElement.map(item => item.Item));\r\n    } catch (error) {\r\n      console.error('Error loading users:', error);\r\n    }\r\n  };\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    const user = users.find(user => user.About.Email === email && user.About.Password === password);\r\n    if (user) {\r\n      localStorage.setItem('accountNumber', user.About.AccountNumber);\r\n      window.location.href = '/Transaction';\r\n    } else {\r\n      setErrorMessage('Invalid email or password');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row>\r\n        <Col md={{ span: 6, offset: 3 }}>\r\n          <form onSubmit={handleLogin}>\r\n            <div className=\"bg-image\">\r\n              <div className=\"shadow p-3 mb-5 bg-body-tertiary rounded fromtable\">\r\n                <div className=\"mb-3 login\">\r\n                  <h4 style={{ padding: \"10px\" }}>Welcome</h4>\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"email\" className=\"form-label\">Email</label>\r\n                    <input \r\n                      type=\"email\" \r\n                      className=\"form-control\" \r\n                      id=\"email\" \r\n                      value={email} \r\n                      onChange={(e) => setEmail(e.target.value)} \r\n                      required \r\n                    />\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">Password</label>\r\n                    <input \r\n                      type=\"password\" \r\n                      className=\"form-control\" \r\n                      id=\"password\" \r\n                      value={password} \r\n                      onChange={(e) => setPassword(e.target.value)} \r\n                      required \r\n                    />\r\n                  </div>\r\n                  <button type=\"submit\" className=\"loginbutton btn btn-primary\">Login</button>\r\n                  {errorMessage && <p style={{ color: 'red' }}>{errorMessage}</p>}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}